{% load static %}
{% include 'inner-header.html' %}
{% if user.is_authenticated %}
    <div class="container">
        <div class="row mb-5">
            <!-- First Column -->
          <div class="col 6">
            <h3>Skills</h3>
              <div class="card">
                  <div class="card-body">
                      <button
                              hx-get="{% url 'ai_skill_add' %}"
                              hx-target="#skill-add"
                              hx-swap="afterbegin"
                              class="btn btn-success btn-sm mx-2">Add
                      </button>
                      <div id="skill-result"
                            hx-target="this"
                            hx-swap="innerHTML"
                            hx-get="{% url 'get_skill_list' %}"
                            hx-trigger="load">
                      </div>
                  </div>
              </div>

            <h3>Education</h3>
              <div class="card">
                  <div class="card-body">
                      <button
                              hx-get="{% url 'add_education_submit' %}"
                              hx-target="#edu-list"
                              hx-swap="afterbegin"
                              class="btn btn-success btn-sm mx-2">Add
                      </button>
                      <div id="query_result"
                           hx-target="this"
                           hx-swap="innerHTML"
                           hx-get="{% url 'get_education_list' %}"
                           hx-trigger="load">
                      </div>
                  </div>
              </div>

            <h3>Experience</h3>
              <div class="card">
                  <div class="card-body">
                       <button
                              hx-get="{% url 'add_experience_submit' %}"
                              hx-target="#exp-list"
                              hx-swap="afterbegin"
                              class="btn btn-success btn-sm mx-2">Add
                      </button>

                      <div id="exp_result"
                           hx-target="this"
                           hx-swap="innerHTML"
                           hx-get="{% url 'get_experience_list' %}"
                           hx-trigger="load">
                      </div>
                  </div>
              </div>
          </div>
            <!-- End First Column -->

          <div class="col 6">
           <h3>About Me</h3>
              <div class="card my-3">
               <div class="card-body">
                   You can have Jeffrey give you suggestions for your tasks for each company you have worked for.
               </div>
           </div>
           <div class="card my-3">
               <div class="card-body">
                   <p>
                       {{ pii.about | safe }}
                   </p>
                   <hr />
                   <div class="d-flex justify-content-end">
                       <button
                              hx-get="#"
                              hx-target="#ai-about-info"
                              hx-swap="innerHTML"
                              class="btn md-yellow-button mb-2"
                              onclick="disableCoverLetterButton()">
                          Jeffrey
                      </button>
                   </div>
               </div>
           </div>

            <h3>Experience</h3>
           <div class="card my-3">
               <div class="card-body">
                   You can have Jeffrey give you suggestions for your tasks for each company you have worked for.
               </div>
           </div>


            {% for exp in exps %}
             <div class="card mb-2">
                  <div class="card-header bg-white">
                    {{ exp.company }}
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">{{ exp.position }}</h5>
                    <p class="card-text">
                        <ul>
                        <li>{{ exp.task_one }}</li>
                            {% if exp.task_two %} <li>{{ exp.task_two }}</li> {% endif %}
                            {% if exp.task_three %} <li>{{ exp.task_three }}</li> {% endif %}
                            {% if exp.task_four %} <li>{{ exp.task_four }}</li> {% endif %}
                            {% if exp.task_five %} <li>{{ exp.task_five }}</li> {% endif %}
                            {% if exp.task_six %} <li>{{ exp.task_six }}</li> {% endif %}
                            {% if exp.task_seven %} <li>{{ exp.task_seven }}</li> {% endif %}
                            {% if exp.task_eight %} <li>{{ exp.task_eight }}</li> {% endif %}
                            {% if exp.task_nine %} <li>{{ exp.task_nine }}</li> {% endif %}
                            {% if exp.task_ten %} <li>{{ exp.task_ten }}</li> {% endif %}
                        </ul>
                    </p>
                      <div class="d-flex justify-content-end">
                      <button
                              hx-get="#"
                              hx-target="#"
                              hx-swap="innerHTML"
                              class="btn md-yellow-button mb-2"
                              onclick="disableCoverLetterButton()">
                          Jeffrey
                      </button>
                      </div>
                  </div>
             </div>
            {% endfor %}

          </div>
        </div>
    </div>

{% endif %}
{% include 'footer.html' %}